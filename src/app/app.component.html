<div class="container-fluid">
  <h1>Registration Form</h1>
  {{reactiveFormModel.value | json}}
 <form  [formGroup]="reactiveFormModel">
 
  <div  class="form-group">
    <label >Username</label>
    <input type="text" name="username" class="form-control" formControlName="username"
    [class.is-invalid]="getUsername?.invalid && getUsername?.touched "
    >
    <div [class.d-none]="getUsername?.valid && getUsername?.untouched" *ngIf="getUsername?.invalid && getUsername?.touched">
      <small class="text-danger" *ngIf="getUsername?.errors?.['required']">Username is required</small>
      <small class="text-danger" *ngIf="getUsername?.errors?.['minlength']">min length must be of 3 characters</small>
      <small class="text-danger" *ngIf="getUsername?.errors?.['forbiddenName']">{{getUsername?.errors?.['forbiddenName'].value}} username not allowed </small>
    </div>
  </div>

  <div  class="form-group">
    <label >Password</label>
    <input type="password" name="password" class="form-control" formControlName="password"
    [class.is-invalid]="getPassword?.invalid && getPassword?.touched || reactiveFormModel.errors?.['misMatch']"
    >
    <div  *ngIf="getPassword?.invalid && getPassword?.touched || reactiveFormModel.errors?.['misMatch']">
      <small class="text-danger" *ngIf="getPassword?.errors?.['required']">Password is required</small>
      <small class="text-danger" *ngIf="getPassword?.errors?.['minlength']">min length must be of 8 characters</small>
      <small class="text-danger" *ngIf="reactiveFormModel?.errors?.['misMatch']">Passwords do not match</small>
    </div>
  </div>

  <div  class="form-group">
    <label >Confirm Password</label>
    <input type="password" name="confirmPassword" class="form-control" formControlName="confirmPassword"
    [class.is-invalid]="getConfirmPassword?.invalid && getConfirmPassword?.touched || reactiveFormModel.errors?.['misMatch']"
    >
    <div  *ngIf="getConfirmPassword?.invalid && getConfirmPassword?.touched || reactiveFormModel.errors?.['misMatch'] ">
      <small class="text-danger" *ngIf="getConfirmPassword?.errors?.['required']">Password is required</small>
      <small class="text-danger" *ngIf="getConfirmPassword?.errors?.['minlength']">min length must be of 8 characters</small>
      <small class="text-danger" *ngIf="reactiveFormModel.errors?.['misMatch']"> Passwords do not match</small>
    </div>
  </div>

  <div class="form-group">
    <label  class="form-group-label">Email</label>
    <input type="email" class="form-control" formControlName="email" name="email"  [class.is-invalid]="getEmail?.invalid">
    <small class="text-danger" *ngIf="getEmail?.errors?.['required']">Email is required</small>
  </div>

  <div class="form-check">
    <input type="checkbox" class="form-check-input" formControlName="subscribe">
    <label class="form-check-label">Send me promotions.</label>
  </div>

  <div class="form-group" formGroupName="address">

    <div  class="form-group">
      <label >City</label>
      <input type="text" name="city" class="form-control" formControlName="city"
      [class.is-invalid]="getAddress?.get('city')?.invalid && getAddress?.get('city')?.touched"
      >
      <div [class.d-none]="getAddress?.get('city')?.valid && getAddress?.get('city')?.untouched" *ngIf="getAddress?.get('city')?.invalid && getAddress?.get('city')?.touched">
        <small class="text-danger" *ngIf="getAddress?.get('city')?.errors?.['required']">City is required</small>
      </div>
    </div>

    <div  class="form-group">
      <label >State</label>
      <input type="text" name="state" class="form-control" formControlName="state"
      [class.is-invalid]="getAddress?.get('state')?.invalid && getAddress?.get('state')?.touched"
      >
      <div [class.d-none]="getAddress?.get('state')?.valid && getAddress?.get('state')?.untouched" *ngIf="getAddress?.get('state')?.invalid && getAddress?.get('state')?.touched">
        <small class="text-danger" *ngIf="getAddress?.get('state')?.errors?.['required']">state is required</small>
      </div>
    </div>

    <div  class="form-group">
      <label >Postal Code</label>
      <input type="text" name="postalCode" class="form-control" formControlName="postalCode"
      [class.is-invalid]="getAddress?.get('postalCode')?.invalid && getAddress?.get('postalCode')?.touched"
      >
      <div [class.d-none]="getAddress?.get('postalCode')?.valid && getAddress?.get('postalCode')?.untouched" *ngIf="getAddress?.get('postalCode')?.invalid && getAddress?.get('postalCode')?.touched">
        <small class="text-danger" *ngIf="getAddress?.get('postalCode')?.errors?.['required']">postal code is required</small>
      </div>
    </div>

  </div>

  <button class="btn btn-primary" type="submit">Register</button>
  <button class="btn btn-secondary ml-2" type="button" (click)="loadData()">Load API Data</button>
  

 </form>
 
</div>

